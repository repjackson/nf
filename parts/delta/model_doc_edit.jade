template(name='model_doc_edit')
    if template_exists
        +Template.dynamic template=model_template
    else
        with current_doc
            .ui.stackable.padded.grid
                .centered.row
                    .four.wide.column
                        .ui.header(title="model: #{model}")
                            |edit #{model}
                        +creation_info
                        a.ui.big.basic.icon.button(href="/m/#{model}/#{_id}/view")
                            i.big.checkmark.green.icon
                        #delete_doc.ui.icon.basic.button
                            i.trash.red.icon
                        if is_user
                            +boolean_edit key='private' direct=true
                    .twelve.wide.column
                        //- |#{model}
                        each edit_fields
                            .ui.header #{title}
                            +Template.dynamic template=edit_template 
                            .spacer
                            // .ui.header #{key} [#{field}] #{label}
                //- if watson 
                //-     .row
                //-         .sixteen.wide.column
                //-             +watson_view
                
            
template(name='karma_transaction')
    .ui.header my karma #{currentUser.karma}
    .ui.header offer karma
    .ui.input
        input.offer_karma_amount(type='number')
    .ui.button.offer_karma
        i.right.chevron.icon
    each offers
        +offer
        
        
template(name='offer')
    .ui.small.inline.header amount #{amount}
    +author_info
