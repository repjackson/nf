template(name='scanner')
    .ui.stackable.padded.grid
        .ui.ten.wide.column
            .ui.header scanner
            #reader(width="600px")
            .ui.massive.green.button.start
                |open
            .ui.big.basic.red.button.stop
                |close
            // .ui.big.button.check
            //     |check camera
            .ui.divider
        .ui.six.wide.column
            .ui.segment
                .ui.inline.header 
                    i.shopping.cart.icon
                    |active carts
                .ui.icon.button.new_cart 
                    i.plus.icon
                each shopping_cart_docs
                    .ui.button.select_cart(class=shopping_cart_button_class)
                        |#{name}
                div
                if selected_cart
                    a.ui.header(href="/cart/#{selected_cart}")
                        i.shopping.cart.icon
                        |#{cart_items.count} cart items
                    .ui.icon.button.add_item(title='add item' class=add_item_class)
                        i.plus.icon
                    if is_adding 
                        +product_picker
                    .ui.list 
                        each cart_items 
                            .item 
                                img.ui.avatar.image(src="{{c.url product_image_id width=300 height=300 gravity='face' crop='fill'}}")
                                .content
                                    .header 
                                        |#{product_title}
                                    .description
                                        .ui.big.label(title='amount') #{amount}
                                        i.circular.remove.link.icon.remove_cart_item
                                        +print_this
                else 
                    .ui.header select shopping cart above
            .ui.inline.header
                |test codes
            .ui.button.clear_code
                |clear
            .ui.selection.link.list 
                each test_products
                    .item.gen_code
                        img.ui.avatar.image(src="{{c.url image_id width=200 height=200 gravity='face' crop='fill'}}")
                        |#{title}
            #qrcode



template(name='product_picker')
    .ui.icon.input 
        i.search.icon
        input.search_product(type='text' placeholder='search product...')
    each product_results
        .ui.header #{title}
